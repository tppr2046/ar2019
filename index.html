<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | WebGL Test AR</title>
    <script src="js/lib/aframe.min.js"></script>
    <script src="js/lib/aframe-ar.js"></script>
    <script src="Build/UnityLoader.js"></script>
    <script src="js/app.js"></script>

    <style>
        #splashScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            /* 移除 cursor: pointer，因為現在不需要點擊了 */
        }

            #splashScreen img {
                max-width: 100%;
                max-height: 100%;
                object-fit: contain;
            }

        .hidden {
            display: none !important;
        }
    </style>

</head>

<body style="margin: 0px; overflow: hidden;">

    <div id="splashScreen">
        <img src="cover.png" alt="載入中...">
    </div>

    <a-scene embedded arjs vr-mode-ui="enabled: false" copycanvas>
        <div id="unityContainer" style="z-index: 2"></div>

        <a-marker type="pattern" url="data/markers\Hiro.patt" markercontroller="name : Hiro"></a-marker>
        <a-marker type="pattern" url="data/markers\marker-cat.patt" markercontroller="name : marker-cat"></a-marker>
        <a-marker type="pattern" url="data/markers\marker-dog1.patt" markercontroller="name : marker-dog1"></a-marker>
        <a-marker type="pattern" url="data/markers\marker-dog2.patt" markercontroller="name : marker-dog2"></a-marker>
        <a-marker type="pattern" url="data/markers\marker-mouse.patt" markercontroller="name : marker-mouse"></a-marker>
        <a-marker type="pattern" url="data/markers\Nutty.patt" markercontroller="name : Nutty"></a-marker>
        <a-marker type="pattern" url="data/markers\NuttyCardboard.patt" markercontroller="name : NuttyCardboard"></a-marker>

        <a-entity camera cameratransform></a-entity>
    </a-scene>

    <script>
        /**
         * 供 Unity 呼叫以隱藏啟動畫面
         */
        function HideSplashScreen() {
            console.log("Unity 載入完成，隱藏啟動畫面...");
            const splash = document.getElementById('splashScreen');
            if (splash) {
                splash.classList.add('hidden');
            }
        }

        // 注意: 原本的點擊隱藏程式碼已移除。
        // 現在必須等待 Unity 執行完畢後呼叫 HideSplashScreen()。
    </script>

</body>
</html>